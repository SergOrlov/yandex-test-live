(()=>{let e=()=>{let e=document.querySelectorAll(".running-line"),t=document.querySelector(".running-line__content"),r=t.cloneNode(!0);e.forEach(e=>{r=t.cloneNode(!0),e.appendChild(r)});let i=document.querySelectorAll(".running-line__content");i.forEach(e=>{e.animate([{transform:"translateX(0)"},{transform:"translateX(-100%)"}],{duration:15e3,iterations:1/0})})};e()})(),(()=>{let e=document.querySelectorAll(".vasuki__item"),t=Array.from(e),r=()=>{let e=document.querySelector(".vasuki__slide-indikators-list"),r=document.querySelector("#slide-indikator").content.querySelector(".vasuki__slide-indikators-item"),i=document.createDocumentFragment();for(let n=0;n<t.length;n++){let a=r.cloneNode(!0);i.appendChild(a),e.appendChild(i)}};r();let i=e=>{let t=document.querySelectorAll(".vasuki__item"),r=Array.from(t),i=document.querySelector(".vasuki__arrow-left"),n=document.querySelector(".vasuki__arrow-right"),a=0,l=document.querySelectorAll(".vasuki__slide-indikators-item"),o=Array.from(l);o[0].classList.add("vasuki__slide-indikators-item--active");let s=()=>{o.forEach((e,t)=>{t===a?e.classList.add("vasuki__slide-indikators-item--active"):e.classList.remove("vasuki__slide-indikators-item--active")})};document.querySelector(".vasuki__list");let d=()=>{a==r.length-1?n.classList.add("arrow--disabled"):n.classList.remove("arrow--disabled"),0==a?i.classList.add("arrow--disabled"):i.classList.remove("arrow--disabled")},c=()=>{a++},p=()=>{a--},$=(e,t,i,n)=>{e.addEventListener("click",()=>{n();let e=t*a;r[a+i].animate([{transform:"translateX("+e+"px)"}],{fill:"forwards"}),d(),s()})};$(n,-Math.abs(e),0,c),$(i,e,1,p)},n=document.querySelector(".vasuki"),a=n.innerHTML;window.innerWidth<768&&i(335),window.innerWidth<1024&&window.innerWidth>768&&i(600),window.addEventListener("resize",()=>{window.innerWidth<768&&(n.innerHTML=a,i(335)),window.innerWidth<1024&&window.innerWidth>768&&(n.innerHTML=a,i(600))})})(),(()=>{let e=[{img:"img/speaker_photo_320x320_2x.png",name:"Хозе-Рауль Капабланка",role:"Чемпион мира по шахматам"},{img:"img/speaker_photo_320x320_2x.png",name:"Эммануил Ласкер",role:"Чемпион мира по шахматам"},{img:"img/speaker_photo_320x320_2x.png",name:"Александр Алехин",role:"Чемпион мира по шахматам"},{img:"img/speaker_photo_320x320_2x.png",name:"Арон Нимцович",role:"Чемпион мира по шахматам"},{img:"img/speaker_photo_320x320_2x.png",name:"Рихард Рети",role:"Чемпион мира по шахматам"},{img:"img/speaker_photo_320x320_2x.png",name:"Остап Бендер",role:"Гроссмейстер"},],t=(t,r,i)=>{let n=document.querySelector(".participants__list"),a=document.querySelector("#participants-item").content.querySelector(".participants__item"),l=document.querySelector(".participants__total");l.textContent=e.length;let o=document.querySelector(".participants__current");o.textContent=r;let s=document.querySelector(".participants__arrow-left"),d=document.querySelector(".participants__arrow-right"),c=e=>{let t=document.createDocumentFragment();e.forEach(e=>{let r=a.cloneNode(!0);r.querySelector(".participants__img").src=e.img,r.querySelector(".participants__name").textContent=e.name,r.querySelector(".participants__role").textContent=e.role,t.appendChild(r)}),n.appendChild(t)};c(e);let p=document.querySelectorAll(".participants__item"),$=Array.from(p),m=0,u=e=>{m+=e},h=e=>{m-=e},g=r,k=e=>{g+=e},q=e=>{g-=e},y=(t,r,i,a,l,u)=>{t.addEventListener("click",()=>{u(l),g>e.length?(g=l,o.textContent=l):o.textContent=g,s.disabled=!0,d.disabled=!0;let t=r*m/l,h=r*(m/l+i);a(l),m>0?s.classList.remove("arrow--disabled"):s.classList.add("arrow--disabled"),setTimeout(()=>{s.disabled=!1,d.disabled=!1},1e3),$.forEach(e=>{e.animate([{transform:"translateX("+t+"px)"},{transform:"translateX("+h+"px)"}],{duration:1e3,fill:"forwards"})}),m==$.length-l?(c(e),$=Array.from(p=document.querySelectorAll(".participants__item")),cardsLength=e.length):m==e.length&&setTimeout(()=>{n.innerHTML="",c(e),$=Array.from(p=document.querySelectorAll(".participants__item")),m=0,s.classList.add("arrow--disabled")},1e3)})};y(d,t,1,u,r,k),y(s,t,-1,h,r,q)},r=()=>{document.querySelector(".participants__arrow-right").click()},i=setInterval(r,4e3);window.innerWidth>1280&&t(-1230,3),window.innerWidth<1280&&window.innerWidth>768&&(t(-410,1),clearInterval(i)),window.innerWidth<768&&(t(-335,1),clearInterval(i));let n=document.querySelector(".participants"),a=n.innerHTML;window.addEventListener("resize",()=>{clearInterval(i),window.innerWidth<768&&(n.innerHTML=a,t(-335,1)),window.innerWidth<1280&&window.innerWidth>768&&(n.innerHTML=a,t(-410,1)),window.innerWidth>1280&&(n.innerHTML=a,t(-1230,3),i=setInterval(r=()=>{document.querySelector(".participants__arrow-right").click()},4e3))})})();
